<!DOCTYPE html>
<html class="h100">
    <head>
        <meta charset="utf-8">
        <title>Mustached bear! What else?</title>

        <meta name="viewport" content="
            width=device-width,
            initial-scale=1,
            maximum-scale=1,
            user-scalable=no,
            target-densitydpi=device-dpi">

        <meta name="format-detection" content="telephone=no" />
        <meta name="format-detection" content="email=no" />
        <meta name="format-detection" content="address=no" />

        <script src="./lib/cordova.js"></script>
        <script src="./lib/jquery-2.0.0.min.js"></script>
        <script src="./lib/mustache.js"></script>
        <script src="./lib/step.js"></script>

        <link rel="stylesheet" type="text/css" href="./style/style.css">

        <script src="./script/console.js"></script>
        <script src="./script/dom.js"></script>
        <script src="./script/dimens.js"></script>
        <script src="./script/navigator.js"></script>
        <script src="./script/db.js"></script>
        <script src="./script/dbDummy.js"></script>

        <script type="text/javascript">
            window.MS = window.MS || {};

            document.addEventListener('deviceready', function() {
                $('.sidebar').height(MS.dimens.viewport.height);

                // TODO, buggy
    //            if (device.platform === 'Android') {
    //                document.addEventListener("backbutton", function backbutton() {
    //                    MS.navigator.back();
    //                }, false);
    //            }

                MS.dom.sidebarLeft.on('touchstart', 'li', function() {
                    $(this).addClass('touch');
                });

                MS.dom.sidebarLeft.on('touchend', 'li', function() {
                    MS.navigator.goTo($(this).attr('data-target'));
                });

                MS.dom.window.on('touchmove', function() {
                    MS.isMove = true;
                });

                MS.dom.window.on('touchend', function() {
                    $('.touch').removeClass('touch');
                    MS.isMove = false;
                });

                MS.dom.body.on('touchend', function() {
                    if(MS.dom.body.hasClass('open-menu')) {
                        MS.navigator.back();
                    }
                });

                MS.db.createTables(true, function() {
                    // Insert dummy data
                    MS.dbDummy.insertFaculties();
                    MS.dbDummy.insertMisc();
                    MS.dbDummy.insertNews();
                    MS.dbDummy.insertFach1();
                    MS.dbDummy.insertFach2();

                    MS.navigator.goTo('Login');
                });
            }, false);

        </script>
    </head>

    <body class="h100">

        <div id="wrapper" class="h100">
            <div id="overlay" class="full overlay"></div>

            <div id="sidebarLeft" class="sidebar small l0">
                <ul class="navList">
                    <li data-target="News"><img src="./asset/icon/iconmoon-232124/paragraph-right.png"></li>
                    <li data-target="Courses"><img src="./asset/icon/iconmoon-232124/list.png"></li>
                    <li data-target="Settings"><img src="./asset/icon/iconmoon-232124/cog.png"></li>
                    <li data-target="Login"><img src="./asset/icon/iconmoon-232124/exit.png"></li>
                </ul>
            </div>

            <div id="body" class="full">
                <div id="header" class="header"></div>
                <div id="content" class="content"></div>
                <div id="footer" class="footer"></div>
            </div>

            <div id="sidebarRight" class="sidebar r0">
                <!--<div class="heading tr">Anstehende Termine</div>-->
                <ul class="calList">
                    <li>
                        <div class="title">Modellbildung und Simulation</div>
                        <div class="date">noch 30 min (XX.XX.XXXX um 14:30)</div>
                        <div class="desc">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod temp</div>
                    </li>
                    <li>
                        <div class="title">Termin 2</div>
                        <div class="date">noch 1 Std (XX.XX.XXXX um 12:30)</div>
                        <div class="desc">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod temp</div>
                    </li>
                    <li>
                        <div class="title">Termin 3</div>
                        <div class="date">noch 2 Tage (XX.XX.XXXX um 10:30)</div>
                        <div class="desc">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod temp</div>
                    </li>
                </ul>
            </div>
        </div>

    </body>
</html>
